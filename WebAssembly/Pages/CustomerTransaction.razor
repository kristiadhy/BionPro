@page "/customers/create"
@page "/customers/edit"
@page "/customers/edit/{ParamCustomerID:guid}"

<PageTitle>@($"{ApplicationDetail?.ApplicationName} | {CustomerPageModel?.Title}")</PageTitle>

<MainMenuContainer>
    <MainTransactionButton OnButtonBackClicked="EvBackToPrevious" />
</MainMenuContainer>

<RadzenRow Gap="0.5rem" RowGap="0.5rem">
    <RadzenColumn SizeLG="6" SizeMD="12" class="rz-pb-5">
        <TransactionPageHeader FormStatus="@FormStatus" AdditionalText="@AdditionalHeaderText" />
        <RadzenCard class="my-2">
            <RadzenTemplateForm Data="@CustomerInputState.Customer" Submit="@((CustomerDTO args) => SubmitAsync(args))">
                <FluentValidationValidator />

                <RadzenStack>
                    <RadzenStack Gap="1rem">
                        <RadzenTabs>
                            <Tabs>
                                <RadzenTabsItem Text="Basic Info">
                                    <RadzenStack>
                                        <RadzenTextBox Name="@nameof(CustomerInputState.Customer.CustomerName)"
                                                       Placeholder="Name"
                                                       @bind-Value="CustomerInputState.Customer.CustomerName"
                                                       @ref="@txtNameForFocus" />

                                        <RadzenTextBox Name="@nameof(CustomerInputState.Customer.PhoneNumber)"
                                                       Placeholder="Phone Number"
                                                       @bind-Value="CustomerInputState.Customer.PhoneNumber" />

                                        <RadzenTextBox Name="@nameof(CustomerInputState.Customer.Email)"
                                                       Placeholder="Email"
                                                       @bind-Value="CustomerInputState.Customer.Email" />

                                        <RadzenTextArea Name="@nameof(CustomerInputState.Customer.Address)"
                                                        Placeholder="Address"
                                                        class="w-100"
                                                        aria-label="TextArea"
                                                        @bind-Value="CustomerInputState.Customer.Address" />

                                        <RadzenTextArea Name="@nameof(CustomerInputState.Customer.Note)"
                                                        Placeholder="Note"
                                                        class="w-100"
                                                        aria-label="TextArea"
                                                        @bind-Value="CustomerInputState.Customer.Note" />
                                    </RadzenStack>
                                </RadzenTabsItem>

                                <RadzenTabsItem Text="Contact Person">
                                    <RadzenStack>
                                        <RadzenTextBox Name="@nameof(CustomerInputState.Customer.ContactPerson)"
                                                       Placeholder="Contact Person"
                                                       @bind-Value="CustomerInputState.Customer.ContactPerson" />

                                        <RadzenTextBox Name="@nameof(CustomerInputState.Customer.CPPhone)"
                                                       Placeholder="Contact Person's Phone'"
                                                       @bind-Value="CustomerInputState.Customer.CPPhone" />
                                    </RadzenStack>
                                </RadzenTabsItem>
                            </Tabs>
                        </RadzenTabs>
                    </RadzenStack>
                    <ValidationSummary />

                </RadzenStack>

                <SaveTransactionButton OnButtonClear="ClearField"
                                       IsBusy="@IsSaving" />

            </RadzenTemplateForm>
        </RadzenCard>
    </RadzenColumn>
</RadzenRow>